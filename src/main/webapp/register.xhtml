<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>Inscription - E-Commerce</title>
    <style>
        .register-container {
            max-width: 500px;
            margin: 50px auto;
            padding: 30px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .register-form .form-group {
            margin-bottom: 20px;
        }

        .register-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .register-form input[type="text"],
        .register-form input[type="password"],
        .register-form input[type="email"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .error-message {
            color: red;
            font-size: 12px;
            margin-top: 5px;
        }

        .form-actions {
            margin-top: 30px;
            text-align: center;
        }

        .btn-primary {
            background: #007bff;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .btn-primary:hover {
            background: #0056b3;
        }

        .link-login {
            display: block;
            margin-top: 15px;
            color: #007bff;
        }
    </style>
</h:head>

<h:body>
    <div class="register-container">
        <h2>Créer un compte</h2>

        <h:form styleClass="register-form">
            <div class="form-group">
                <h:outputLabel for="nom" value="Nom :"/>
                <h:inputText id="nom"
                             value="#{registerBean.client.nom}"
                             required="true"
                             requiredMessage="Le nom est obligatoire"/>
                <h:message for="nom" styleClass="error-message"/>
            </div>

            <div class="form-group">
                <h:outputLabel for="prenom" value="Prénom :"/>
                <h:inputText id="prenom"
                             value="#{registerBean.client.prenom}"
                             required="true"
                             requiredMessage="Le prénom est obligatoire"/>
                <h:message for="prenom" styleClass="error-message"/>
            </div>

            <div class="form-group">
                <h:outputLabel for="email" value="Email :"/>
                <h:inputText id="email"
                             value="#{registerBean.client.email}"
                             required="true"
                             validatorMessage="Email invalide">
                    <f:validateRegex pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"/>
                </h:inputText>
                <h:message for="email" styleClass="error-message"/>
            </div>

            <div class="form-group">
                <h:outputLabel for="password" value="Mot de passe :"/>
                <h:inputSecret id="password"
                               value="#{registerBean.client.password}"
                               required="true"
                               requiredMessage="Le mot de passe est obligatoire"/>
                <h:message for="password" styleClass="error-message"/>
            </div>

            <div class="form-group">
                <h:outputLabel for="confirmPassword" value="Confirmer le mot de passe :"/>
                <h:inputSecret id="confirmPassword"
                               value="#{registerBean.confirmPassword}"
                               required="true"
                               requiredMessage="Veuillez confirmer le mot de passe"/>
                <h:message for="confirmPassword" styleClass="error-message"/>
            </div>

            <div class="form-actions">
                <h:commandButton value="S'inscrire"
                                 action="#{registerBean.register()}"
                                 styleClass="btn-primary"/>
                <h:link value="Déjà inscrit ? Se connecter"
                        outcome="login"
                        styleClass="link-login"/>
            </div>

            <h:messages globalOnly="true" styleClass="messages"/>
        </h:form>
    </div>
</h:body>
</html>